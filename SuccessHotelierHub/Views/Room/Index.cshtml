@using SuccessHotelierHub.Models
@{
    ViewBag.Title = "Room";

    var roomTypeList = (List<RoomTypeVM>)ViewBag.RoomTypeList;
}

<section class="content-header">
    <h1>
        Room <small>List</small>
    </h1>
    <ol class="breadcrumb m-r-xs">
        <li><a href="@Url.Action("Index","Home")"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="">Room</li>
        <li class="active">List</li>
    </ol>
</section>

<section class="content">
    <div class="box box-info">
        <div class="box-header with-border">
            <h3 class="box-title">Room Details</h3>
        </div>
        <form class="frmRoom" enctype="multipart/form-data" method="post">
            <div class="box-body">
                <div class="col-md-6 col-sm-12 col-xs-12 padding-zero">
                    <label for="ddlRoomType" class="col-lg-3 col-md-4 col-sm-3 col-xs-12 text-right text-left-media-lbl padding_left">Room Type</label>
                    <div class="col-md-6 col-sm-4 col-xs-12 padding-zero">
                        <select class="form-control" id="ddlRoomType" name="ddlRoomType" onchange="loadRooms();">
                            <option value="" data-ratecode="">--Select Room Type--</option>
                            @if (roomTypeList != null && roomTypeList.Count > 0)
                            {
                                foreach (var roomType in roomTypeList)
                                {
                                    <option value="@roomType.Id" data-ratecode="@roomType.RoomTypeCode">
                                        @roomType.RoomTypeCode
                                    </option>
                                }
                            }
                        </select>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="clearfix"></div>
                
                <div class="col-xs-12 padding-zero m-t-lg">
                    <div class="table-responsive" id="divRoomList">

                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </form>
    </div>
</section>

<script type="text/javascript">
    function loadRooms() {
        var roomType = $('#ddlRoomType').val();

        if (!IsNullOrEmpty(roomType)) {
            //Ajax request to get room details.
        }

    }
</script>